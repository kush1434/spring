<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layouts/base}" lang="en">

<th:block layout:fragment="title" th:remove="tag">Games List</th:block>

<!-- mobile styles -->
<th:block layout:fragment="style" th:remove="tag">
    <style>
        .wrap-cell { max-width: 320px; word-break: break-word; }
        @media (max-width: 767.98px) {
            /* hide less-important columns on small screens */
            #gamesTable th:nth-child(1), #gamesTable td:nth-child(1), /* ID */
            #gamesTable th:nth-child(3), #gamesTable td:nth-child(3), /* Person ID */
            #gamesTable th:nth-child(4), #gamesTable td:nth-child(4), /* Person UID */
            #gamesTable th:nth-child(5), #gamesTable td:nth-child(5), /* Bet */
            #gamesTable th:nth-child(9), #gamesTable td:nth-child(9), /* Success */
            #gamesTable th:nth-child(10), #gamesTable td:nth-child(10), /* Details */
            #gamesTable th:nth-child(11), #gamesTable td:nth-child(11) /* Created At */ {
                display: none;
            }
            table { font-size: 0.95rem; }
        }
    </style>
</th:block>

<th:block layout:fragment="body" th:remove="tag">
    <div class="container">
        <h3>Games Viewer</h3>
        <div class="row align-items-md-stretch table-responsive">
            <table id="gamesTable" class="table table-sm table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Type</th>
                        <th>Person ID</th>
                        <th>Person UID</th>
                        <th>Bet</th>
                        <th>Amount</th>
                        <th>Balance</th>
                        <th>Result</th>
                        <th>Success</th>
                        <th>Details</th>
                        <th>Created At</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="g : ${list}">
                        <td th:text="${g.id}">id</td>
                        <td th:text="${g.type}">type</td>
                        <td th:text="${g.personId}">personId</td>
                        <td th:text="${g.personUid}">personUid</td>
                        <td th:text="${g.betAmount}">bet</td>
                        <td th:text="${g.amount}">amount</td>
                        <td th:text="${g.balance}">balance</td>
                        <td th:text="${g.result}">result</td>
                        <td th:text="${g.success}">success</td>
                        <td class="wrap-cell" th:text="${g.details}">details</td>
                        <td th:text="${g.createdAt}">createdAt</td>
                        <td>
                            <a th:href="@{/game/edit/{id}(id=${g.id})}" class="btn btn-warning btn-sm">Edit</a>
                            <a th:href="@{/game/delete/{id}(id=${g.id})}" class="btn btn-danger btn-sm">Delete</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="mt-3">
            <a class="btn btn-primary" th:href="@{/game/new}">Create New Game</a>
        </div>
    </div>
</th:block>

</html>
