<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
    layout:decorate="~{layouts/style-only}" lang="en">

<th:block layout:fragment="body" th:remove="tag">
    <div class="container py-4">
        <!-- The 'body' section is defined using Thymeleaf's layout fragment. It will replace the 'body' content in the base layout -->
        <h3>Update Group</h3> <!-- Header for Update Info section -->
        <form class="form-inline" action="#" th:action="@{/mvc/groups/update}" th:object="${group}" method="POST"
            id="updateGroupForm"
            onsubmit="(function(event){event.submitter.innerHTML='<span class=\'spinner-border spinner-border-sm\' role=\'status\' aria-hidden=\'true\'></span>';})(event)">

            <input type="hidden" th:field="*{id}" id="groupId">

            <div class="form-group mb-2 mr-sm-2">
                <label for="name" class="form-label">Group Name</label>
                <input class="form-control mb-2 mr-sm-2" type="text" th:field="*{name}" id="name"
                    placeholder="Group Name" required>
            </div>

            <div class="form-group mb-2 mr-sm-2">
                <label for="period" class="form-label">Period</label>
                <input class="form-control mb-2 mr-sm-2" type="text" th:field="*{period}" id="period"
                    placeholder="Period">
            </div>

            <!-- Member Selection -->
            <div class="form-group mb-2 mr-sm-2">
                <label for="memberSearch" class="form-label">Search Members</label>
                <input type="text" id="memberSearch" class="form-control" placeholder="Search for members...">
            </div>

            <div id="memberList" class="mb-3" style="max-height: 300px; overflow-y: auto; border: 1px solid #dee2e6; padding: 10px; border-radius: 0.375rem;">
                <!-- Member checkboxes will be populated by JavaScript -->
            </div>

            <button class="btn btn-secondary btn-sm" type="submit">Update Group</button>
        </form>
    </div>
</th:block>

<!-- scripts -->
<th:block layout:fragment="script" th:remove="tag">
    <script type="text/javascript" src="/static/js/group/group-update.js"
        th:src="@{/js/group/group-update.js}"></script>
</th:block>

</html>
