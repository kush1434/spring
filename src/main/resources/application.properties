# Import .env file for local property overrides (not committed to git)
# Use .env to define property overrides for local development
spring.config.import=optional:file:.env[.properties]

# ========== SERVER CONFIGURATION ==========
# Server ports to match Docker Compose configuration
server.port=8585
socket.port=8589
socket.host=0.0.0.0

# Disable default error page
server.error.whitelabel.enabled=false

# ========== LOGGING ==========
# Set root logging level to warn to reduce console output
logging.level.root=warn

# ========== JWT SECURITY CONFIGURATION ==========
# JWT secret key for signing tokens (base64 encoded)
jwt.secret=bmlnaHRoYXdrY29kaW5nc29jaWV0eWFwY29tcHV0ZXJzY2llbmNlYQ==
# JWT Cookie settings - Production defaults (override in .env for local HTTP development)
jwt.cookie.secure=true
jwt.cookie.same-site=None
jwt.cookie.max-age=43200

# ========== SESSION CONFIGURATION ==========
# Session timeout (30 minutes)
spring.session.timeout=30m
# Custom session cookie name
server.servlet.session.cookie.name=sess_java_spring

# ========== DATABASE CONFIGURATION (SQLite) ==========
# SQLite JDBC driver
spring.datasource.driver-class-name=org.sqlite.JDBC
# Database credentials
spring.datasource.username=admin
spring.datasource.password=admin
# Database file path with Write-Ahead Logging for better concurrency
spring.datasource.url=jdbc:sqlite:volumes/sqlite.db?journal_mode=WAL

# ========== JPA/HIBERNATE CONFIGURATION ==========
# Use SQLite dialect for Hibernate
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
# Disable SQL logging in production
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
# Disable Open Session In View pattern (avoid lazy loading issues)
spring.jpa.open-in-view=false
# Don't auto-update database schema (manage migrations manually)
spring.jpa.hibernate.ddl-auto=none

# ========== DATABASE CONNECTION POOL (HikariCP) ==========
# Connection timeout in milliseconds (60 seconds)
spring.datasource.hikari.connection-timeout=60000
# Maximum number of connections in the pool
spring.datasource.hikari.maximum-pool-size=5
# Minimum idle connections to maintain
spring.datasource.hikari.minimum-idle=5
# Connection validation timeout (3 seconds)
spring.datasource.hikari.validation-timeout=3000
# Maximum lifetime of a connection in the pool (30 minutes)
spring.datasource.hikari.max-lifetime=1800000

# ========== SPRING BOOT CONFIGURATION ==========
# Allow bean definition overriding
spring.main.allow-bean-definition-overriding=true
# Disable dev tools auto-config properties
spring.devtools.add-properties=false

# ========== EMAIL CONFIGURATION (Gmail SMTP) ==========
# Gmail SMTP server settings
spring.mail.host=smtp.gmail.com
spring.mail.port=587
# Email credentials (consider moving to .env for security)
spring.mail.username=dnhsbathroom@gmail.com
spring.mail.password=vjor zncp naam daph
# Enable SMTP authentication and TLS
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ========== API KEYS ==========
# Google API Key (should be set in .env file for security)
google.api.key=AIzaSyC1xyYXgYfGRJrvMOY8iT2bZnb7-Nyd1HY

# ========== GEMINI AI CONFIGURATION ==========
# Gemini API settings (key should be overridden in .env file)
gemini.api.key=${GEMINI_API_KEY:AIzaSyC1xyYXgYfGRJrvMOY8iT2bZnb7-Nyd1HY}
gemini.api.url=https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent

# ========== GITHUB API CONFIGURATION ==========
# GitHub API settings (token should be set in .env file)
github.api.base-url=${GITHUB_API_BASE_URL:https://api.github.com}
github.api.token=${GITHUB_API_TOKEN:}

# ========== SECURITY CONFIGURATION ==========
# Rate limiting: maximum requests per minute per IP
security.rate-limit.requests-per-minute=1000
